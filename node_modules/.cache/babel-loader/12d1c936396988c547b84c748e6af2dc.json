{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\yangwei\\\\Desktop\\\\my-app\\\\my-app\\\\my-demo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\yangwei\\\\Desktop\\\\my-app\\\\my-app\\\\my-demo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\yangwei\\\\Desktop\\\\my-app\\\\my-app\\\\my-demo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\yangwei\\\\Desktop\\\\my-app\\\\my-app\\\\my-demo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\yangwei\\\\Desktop\\\\my-app\\\\my-app\\\\my-demo\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Button,Popconfirm,message,Input,Select}from'antd';import Editor from'for-editor';import axios from'axios';import NewTag from'./NewTag';var Option=Select.Option;var NewText=/*#__PURE__*/function(_Component){_inherits(NewText,_Component);function NewText(props){var _this;_classCallCheck(this,NewText);_this=_possibleConstructorReturn(this,_getPrototypeOf(NewText).call(this,props));_this.state={value:'',title:'',categoty:'',tag:''};_this.$vm=React.createRef();return _this;}// 确认发布操作警示弹出框\n_createClass(NewText,[{key:\"confirm\",value:function confirm(e){console.log(e);axios.get('url',{params:{category:this.state.category,title:this.state.title,content:this.state.value,tag:this.state.tag}}).then(message.success('发布成功')).catch(message.success('发布失败，请从新发布'));//发布成功后的动作\n}//取消操作\n},{key:\"cancel\",value:function cancel(e){console.log(e);message.error('操作取消');}//图片载入变量\n},{key:\"addImg\",value:function addImg($file){this.$vm.current.$img2Url($file.name,'file_url');console.log($file);}//文章内容数据绑定\n},{key:\"handelChangecontent\",value:function handelChangecontent(e){this.setState({value:e});console.log(this.state.value);}//文章标题数据绑定\n},{key:\"handelChangeTitle\",value:function handelChangeTitle(e){this.setState({title:e.target.value});console.log(this.state.title);}//标签子组件向父组件传值\n},{key:\"fn\",value:function fn(data){this.setState({tag:data});}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",null,React.createElement(\"div\",{style:{margin:8}},React.createElement(Select,{defaultValue:\"lucy\",style:{width:120,margin:2}},React.createElement(Option,{value:\"jack\"},\"\\u524D\\u7AEF\"),React.createElement(Option,{value:\"lucy\"},\"Java\"),React.createElement(Option,{value:\"disabled\"},\"\\u5168\\u6808\"),React.createElement(Option,{value:\"Yiminghe\"},\"Python\")),React.createElement(Input,{placeholder:\"\\u8BF7\\u8F93\\u5165\\u6807\\u9898\",style:{width:'400px',margin:8},onChange:this.handelChangeTitle.bind(this)}),React.createElement(NewTag,{pfn:this.fn.bind(this)})),React.createElement(Editor,{value:this.state.value,onChange:this.handelChangecontent.bind(this),addImg:function addImg($file){return _this2.addImg($file);},ref:this.$vm,height:\"529px\"}),React.createElement(Popconfirm,{title:\"\\u662F\\u5426\\u53D1\\u5E03\\u6587\\u7AE0?\",onConfirm:this.confirm.bind(this),onCancel:this.cancel.bind(this),okText:\"Yes\",cancelText:\"No\"},React.createElement(Button,{type:\"primary\",style:{float:'right',margin:'8px 0'}},\"\\u53D1\\u5E03\\u6587\\u7AE0\")),React.createElement(Popconfirm,{title:\"\\u662F\\u5426\\u4FDD\\u5B58\\u5230\\u8349\\u7A3F\\u7BB1?\",onConfirm:this.confirm.bind(this),onCancel:this.cancel.bind(this),okText:\"Yes\",cancelText:\"No\"},React.createElement(Button,{style:{float:'right',margin:'8px'}},\"\\u4FDD\\u5B58\\u5230\\u8349\\u7A3F\\u7BB1\")));}},{key:\"componentDidMount\",value:function componentDidMount(){}}]);return NewText;}(Component);export default NewText;","map":{"version":3,"sources":["C:/Users/yangwei/Desktop/my-app/my-app/my-demo/src/component/NewContent/list/newText.js"],"names":["React","Component","Button","Popconfirm","message","Input","Select","Editor","axios","NewTag","Option","NewText","props","state","value","title","categoty","tag","$vm","createRef","e","console","log","get","params","category","content","then","success","catch","error","$file","current","$img2Url","name","setState","target","data","margin","width","handelChangeTitle","bind","fn","handelChangecontent","addImg","confirm","cancel","float"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, Popconfirm, message, Input, Select } from 'antd';\r\nimport Editor from 'for-editor'\r\nimport axios from 'axios';\r\nimport NewTag from './NewTag'\r\n\r\nconst { Option } = Select;\r\nclass NewText extends Component {\r\n        constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            value:'',\r\n            title: '',\r\n            categoty:'',\r\n            tag: ''\r\n        }\r\n        this.$vm = React.createRef()\r\n    }\r\n\r\n    // 确认发布操作警示弹出框\r\n    confirm(e) {\r\n    console.log(e);\r\n    axios.get('url',{\r\n    params:{\r\n        category : this.state.category,\r\n        title : this.state.title,\r\n        content : this.state.value,\r\n        tag : this.state.tag\r\n    }\r\n    }\r\n    )\r\n    .then(message.success('发布成功'))\r\n    .catch(message.success('发布失败，请从新发布'))\r\n//发布成功后的动作\r\n    \r\n    }\r\n//取消操作\r\n    cancel(e) {\r\n    console.log(e);\r\n    message.error('操作取消');\r\n    }\r\n//图片载入变量\r\n  addImg($file) {\r\n    this.$vm.current.$img2Url($file.name, 'file_url')\r\n    console.log($file)\r\n  } \r\n  //文章内容数据绑定\r\n    handelChangecontent(e){\r\n       \r\n        this.setState({\r\n            value:e\r\n        })\r\n        console.log(this.state.value)\r\n    }\r\n    //文章标题数据绑定\r\n  handelChangeTitle(e){\r\n      this.setState({\r\n            title:e.target.value\r\n        })\r\n        console.log(this.state.title)\r\n  }\r\n\r\n  //标签子组件向父组件传值\r\n  fn(data){\r\n      this.setState({\r\n          tag:data\r\n      })\r\n  }\r\n\r\n    render() { \r\n        return ( \r\n            <div>\r\n            <div style={{margin: 8}}>\r\n             <Select defaultValue=\"lucy\" style={{ width: 120, margin: 2}}>\r\n      <Option value=\"jack\">前端</Option>\r\n      <Option value=\"lucy\">Java</Option>\r\n      <Option value=\"disabled\">\r\n        全栈\r\n      </Option>\r\n      <Option value=\"Yiminghe\">Python</Option>\r\n    </Select>\r\n    <Input placeholder=\"请输入标题\" style={{width:'400px', margin: 8}} onChange={this.handelChangeTitle.bind(this)} />\r\n    <NewTag pfn={this.fn.bind(this)}/>\r\n    </div>\r\n         <Editor \r\n         value={this.state.value} \r\n         onChange={this.handelChangecontent.bind(this)} \r\n         addImg={($file) => this.addImg($file)}\r\n          ref={this.$vm}\r\n        height='529px'\r\n          />\r\n          <Popconfirm\r\n    title=\"是否发布文章?\"\r\n    onConfirm={this.confirm.bind(this)}\r\n    onCancel={this.cancel.bind(this)}\r\n    okText=\"Yes\"\r\n    cancelText=\"No\"\r\n  >\r\n  <Button type=\"primary\" style={{float:'right' , margin:'8px 0' }}>发布文章</Button> \r\n  </Popconfirm>\r\n         \r\n          <Popconfirm\r\n    title=\"是否保存到草稿箱?\"\r\n    onConfirm={this.confirm.bind(this)}\r\n    onCancel={this.cancel.bind(this)}\r\n    okText=\"Yes\"\r\n    cancelText=\"No\"\r\n  >\r\n    <Button style={{ float:'right' , margin:'8px' }}>保存到草稿箱</Button> \r\n    </Popconfirm>\r\n          </div>\r\n        );\r\n        \r\n    }\r\n  componentDidMount(){}  \r\n}\r\n \r\nexport default NewText;"]},"metadata":{},"sourceType":"module"}